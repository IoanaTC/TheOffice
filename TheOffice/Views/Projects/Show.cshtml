@model TheOffice.Models.Project
@using Task = TheOffice.Models.Task

@if (ViewBag.Message != null)
{
    <h2 class="alert-success">@ViewBag.Message</h2>
}
@if (ViewBag.Message_task != null)
{
    <h2 class="alert-success">@ViewBag.Message_task</h2>
}
<br />

<h2>@Model.Title</h2><br />
<h4>@Model.Description</h4><br />

<h3>Membrii echipei</h3><br />

<div class="d-inline-flex justify-content-center">

    @foreach (ApplicationUser member in ViewBag.Members)
    {
        <div class="card m-4" style="width: 18rem;">

            <h4>@member.Email</h4>

            <div class="d-block">
                @foreach (Task task in member.Tasks)
                {
                    <partial name="TaskCard" model="task"></partial>
                }
                <br />
            </div>
        </div>
    }
    <div class="card m-4" style="width: 18rem;">

        <div class="d-block">
            @foreach (Task task in ViewBag.Tasks)
            {
                <partial name="TaskCard" model="task"></partial>
            }
            <br />
        </div>
    </div>

</div>
<br />

<br />
@if (ViewBag.isAdmin == true || ViewBag.isOrganizator == true)
{
    <a href="/Projects/Edit/@Model.Id" class="btn btn-outline-warning m-2">Edit</a>
    <a href="/Projects/Delete/@Model.Id" class="btn btn-outline-danger m-2">Delete</a>
    <a href="/Tasks/New?project=@Model.Id" class="btn btn-outline-primary m-2">Add Tasks</a>

}
